#!/bin/bash

if [ -d ~/.schism ]
then
echo "$(basename ${0}) ${@}" >> ~/.schism/schism_history
date +%s >> ~/.schism/schism_history
fi

if [ $1 == "init" ];
then
    if [ -d ~/.schism ]
    then
        echo "~/.schism already exists"
    else
        mkdir ~/.schism
    fi
    if [ -d ~/.schism/ed ]
    then
        echo "~/.schism/ed already exists"
    else
        mkdir -p ~/.schism/ed
    fi

fi

case $1 in
    play)
        shift
        schism-play ${@}
        exit 0
        ;;
    ed)
        shift
        schism-ed ${@}
        exit 0
        ;;
    rplay)
        shift
        schism-rplay ${@}
        exit 0
        ;;
    task)
        cd ~/bin/schism-program
        ~/bin/python/taskcli.py
        exit 0
        ;;
    *)
        echo "commands are play, rplay, ed, and task"
        ;;
esac
